{"ast":null,"code":"var _jsxFileName = \"/Users/jainovennatt/Documents/UT/EE461L/EE461L_IDB/test_react_book/test_react_book/src/components2/Book.jsx\";\nimport React from \"react\";\nimport Recommendations from \"./Recommendations\";\nimport Description from \"./Description\";\nimport Header from \"./Header\";\n/*\nprops passed in should describe what book this Book is\nmaybe all we need to be passed into is ISBN number and we get all the other info based on this\n*/\n\nclass Book extends React.Component {\n  constructor(props) {\n    super(props); // setup state\n\n    this.state = {\n      bookISBN: -1,\n      //this.props.match.params.ISBN,\n      bookGenre: \"default genre\",\n      bookTitle: \"default book title\",\n      bookCover: \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n      authorName: \"default author name\",\n      bookSummary: \"Book Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Pellentesque imperdiet urna ac suscipit tempus. In hac habitasse platea dictumst. Morbi id fermentum magna, ac blandit orci. Integer cursus molestie mi sit amet sodales. Donec eu efficitur sapien. Mauris vel sapien non arcu condimentum semper eget at magna. Curabitur blandit est vel justo varius efficitur sed ac urna. Ut ac mauris rhoncus, convallis nisi non, vestibulum ex. Duis porta in nisi sed dignissim. Maecenas nulla neque, facilisis vitae posuere nec, vehicula nec orci. In in quam tempus, mollis risus quis, interdum risus. Ut elit velit, interdum ac lectus at, ultricies porttitor sem. Etiam mattis enim ac tincidunt molestie. Sed pharetra, mauris eu scelerisque malesuada, ligula diam pulvinar urna, vitae tempus tellus est sed dui. Vestibulum luctus urna sem, elementum fermentum arcu aliquet sed. Aenean nec massa ex. Nam rhoncus consectetur risus sit amet volutpat. Nunc eu sem faucibus, dapibus urna id, dapibus felis. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Praesent imperdiet vel nulla eget pulvinar. Sed lacus ligula, laoreet vel velit at, faucibus pretium tellus. Morbi ultrices sollicitudin purus, eget mattis velit condimentum eget. Donec ultricies tempus congue. Nam gravida odio sit amet augue pretium finibus. Nulla blandit elementum est vel accumsan. Donec pretium vehicula mauris. Nunc aliquam nec libero a fringilla. Quisque mattis, lectus non posuere pharetra, sapien libero posuere erat, quis fringilla erat tellus in quam. Aliquam rhoncus neque dui, nec lacinia enim vulputate vitae. Maecenas volutpat libero non purus mollis aliquet. Morbi commodo blandit sapien tristique tempus. Nunc euismod urna sed odio tincidunt, et ornare tellus maximus. Sed fermentum massa non aliquam faucibus. Mauris imperdiet tortor lacus, quis iaculis felis semper at. Donec sit amet arcu vel lorem tempus aliquam. Cras ut porttitor dolor. Sed pharetra metus eu laoreet consectetur. Maecenas vitae iaculis est. \",\n      bookRecommendations: [{\n        picture: \"https://books.google.com/books/content?id=dLo_GyEykjQC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\n        ISBN: 1\n      }, {\n        picture: \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n        ISBN: 2\n      }, {\n        picture: \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n        ISBN: 3\n      }, {\n        picture: \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n        ISBN: 4\n      }, {\n        picture: \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n        ISBN: 5\n      }, {\n        picture: \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n        ISBN: 6\n      }]\n    };\n  }\n\n  componentDidMount() {\n    // make call to server to get information and modify state using setState\n    this.loadResults();\n  }\n\n  componentDidUpdate() {\n    this.loadResults();\n  }\n\n  loadResults() {\n    const params = new URLSearchParams(window.location.search);\n    const isbn = params.get(\"isbn\");\n\n    if (isbn !== this.state.bookISBN) {\n      fetch(\"http://34.71.147.72:80/book?isbn=\" + isbn).then(result => result.json()).then(result => {\n        this.setState({\n          bookTitle: result.volumeInfo.title,\n          bookCover: result.volumeInfo.imageLinks.thumbnail,\n          bookSummary: result.volumeInfo.description,\n          authorName: result.volumeInfo.authors,\n          bookGenre: result.volumeInfo.genre,\n          bookISBN: result.volumeInfo.industryIdentifiers.identifier\n        });\n        fetch(\"http://34.71.147.72:80/recBooks?genre=\" + result.volumeInfo.genre).then(response => response.json()).then(data => {\n          console.log(\"hi\");\n          console.log(data);\n          var recommendations = [];\n\n          for (var i = 0; i < data.length; i++) {\n            recommendations.push({\n              picture: data[i].volumeInfo.imageLinks.thumbnail,\n              ISBN: data[i].volumeInfo.industryIdentifiers.identifier\n            });\n          }\n\n          this.setState({\n            bookRecommendations: recommendations\n          });\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      title: this.state.bookTitle,\n      author: this.state.authorName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Description, {\n      image: this.state.bookCover,\n      description: this.state.bookSummary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Recommendations, {\n      recommendations: this.state.bookRecommendations,\n      typeOfRecommendation: \"Recommended Books\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default Book;","map":{"version":3,"sources":["/Users/jainovennatt/Documents/UT/EE461L/EE461L_IDB/test_react_book/test_react_book/src/components2/Book.jsx"],"names":["React","Recommendations","Description","Header","Book","Component","constructor","props","state","bookISBN","bookGenre","bookTitle","bookCover","authorName","bookSummary","bookRecommendations","picture","ISBN","componentDidMount","loadResults","componentDidUpdate","params","URLSearchParams","window","location","search","isbn","get","fetch","then","result","json","setState","volumeInfo","title","imageLinks","thumbnail","description","authors","genre","industryIdentifiers","identifier","response","data","console","log","recommendations","i","length","push","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Recommendations from \"./Recommendations\";\nimport Description from \"./Description\";\nimport Header from \"./Header\";\n/*\nprops passed in should describe what book this Book is\nmaybe all we need to be passed into is ISBN number and we get all the other info based on this\n*/\nclass Book extends React.Component {\n  constructor(props) {\n    super(props);\n    // setup state\n    this.state = {\n      bookISBN: -1, //this.props.match.params.ISBN,\n      bookGenre: \"default genre\",\n      bookTitle: \"default book title\",\n      bookCover:\n        \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n      authorName: \"default author name\",\n      bookSummary:\n        \"Book Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Pellentesque imperdiet urna ac suscipit tempus. In hac habitasse platea dictumst. Morbi id fermentum magna, ac blandit orci. Integer cursus molestie mi sit amet sodales. Donec eu efficitur sapien. Mauris vel sapien non arcu condimentum semper eget at magna. Curabitur blandit est vel justo varius efficitur sed ac urna. Ut ac mauris rhoncus, convallis nisi non, vestibulum ex. Duis porta in nisi sed dignissim. Maecenas nulla neque, facilisis vitae posuere nec, vehicula nec orci. In in quam tempus, mollis risus quis, interdum risus. Ut elit velit, interdum ac lectus at, ultricies porttitor sem. Etiam mattis enim ac tincidunt molestie. Sed pharetra, mauris eu scelerisque malesuada, ligula diam pulvinar urna, vitae tempus tellus est sed dui. Vestibulum luctus urna sem, elementum fermentum arcu aliquet sed. Aenean nec massa ex. Nam rhoncus consectetur risus sit amet volutpat. Nunc eu sem faucibus, dapibus urna id, dapibus felis. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Praesent imperdiet vel nulla eget pulvinar. Sed lacus ligula, laoreet vel velit at, faucibus pretium tellus. Morbi ultrices sollicitudin purus, eget mattis velit condimentum eget. Donec ultricies tempus congue. Nam gravida odio sit amet augue pretium finibus. Nulla blandit elementum est vel accumsan. Donec pretium vehicula mauris. Nunc aliquam nec libero a fringilla. Quisque mattis, lectus non posuere pharetra, sapien libero posuere erat, quis fringilla erat tellus in quam. Aliquam rhoncus neque dui, nec lacinia enim vulputate vitae. Maecenas volutpat libero non purus mollis aliquet. Morbi commodo blandit sapien tristique tempus. Nunc euismod urna sed odio tincidunt, et ornare tellus maximus. Sed fermentum massa non aliquam faucibus. Mauris imperdiet tortor lacus, quis iaculis felis semper at. Donec sit amet arcu vel lorem tempus aliquam. Cras ut porttitor dolor. Sed pharetra metus eu laoreet consectetur. Maecenas vitae iaculis est. \",\n      bookRecommendations: [\n        {\n          picture:\n            \"https://books.google.com/books/content?id=dLo_GyEykjQC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api\",\n          ISBN: 1\n        },\n        {\n          picture:\n            \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n          ISBN: 2\n        },\n        {\n          picture:\n            \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n          ISBN: 3\n        },\n        {\n          picture:\n            \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n          ISBN: 4\n        },\n        {\n          picture:\n            \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n          ISBN: 5\n        },\n        {\n          picture:\n            \"https://clipartsworld.com/images/book-of-shadows-clipart-11.jpg\",\n          ISBN: 6\n        }\n      ]\n    };\n  }\n\n  componentDidMount() {\n    // make call to server to get information and modify state using setState\n    this.loadResults();\n  }\n\n  componentDidUpdate() {\n    this.loadResults();\n  }\n\n  loadResults() {\n    const params = new URLSearchParams(window.location.search);\n    const isbn = params.get(\"isbn\");\n    if (isbn !== this.state.bookISBN) {\n      fetch(\"http://34.71.147.72:80/book?isbn=\" + isbn)\n        .then(result => result.json())\n        .then(result => {\n          this.setState({\n            bookTitle: result.volumeInfo.title,\n            bookCover: result.volumeInfo.imageLinks.thumbnail,\n            bookSummary: result.volumeInfo.description,\n            authorName: result.volumeInfo.authors,\n            bookGenre: result.volumeInfo.genre,\n            bookISBN: result.volumeInfo.industryIdentifiers.identifier\n          });\n          fetch(\n            \"http://34.71.147.72:80/recBooks?genre=\" + result.volumeInfo.genre\n          )\n            .then(response => response.json())\n            .then(data => {\n              console.log(\"hi\");\n              console.log(data);\n              var recommendations = [];\n              for (var i = 0; i < data.length; i++) {\n                recommendations.push({\n                  picture: data[i].volumeInfo.imageLinks.thumbnail,\n                  ISBN: data[i].volumeInfo.industryIdentifiers.identifier\n                });\n              }\n              this.setState({ bookRecommendations: recommendations });\n            });\n        });\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Header title={this.state.bookTitle} author={this.state.authorName} />\n        <br />\n        <Description\n          image={this.state.bookCover}\n          description={this.state.bookSummary}\n        />\n        <Recommendations\n          recommendations={this.state.bookRecommendations}\n          typeOfRecommendation={\"Recommended Books\"}\n        />\n        {/*<Reviews />*/}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Book;\n"]},"metadata":{},"sourceType":"module"}